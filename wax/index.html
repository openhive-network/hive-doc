<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wax Documentation</title>
  <style>
    :root {
      --bg-color: #0d1117;
      --card-bg: #161b22;
      --text-color: #c9d1d9;
      --text-muted: #8b949e;
      --accent-color: #58a6ff;
      --border-color: #30363d;
      --ts-color: #3178c6;
      --py-color: #3776ab;
    }
    @media (prefers-color-scheme: light) {
      :root {
        --bg-color: #ffffff;
        --card-bg: #f6f8fa;
        --text-color: #24292f;
        --text-muted: #57606a;
        --accent-color: #0969da;
        --border-color: #d0d7de;
      }
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
      background: var(--bg-color);
      color: var(--text-color);
      line-height: 1.6;
      min-height: 100vh;
    }
    .container { max-width: 900px; margin: 0 auto; padding: 2rem; }
    header {
      text-align: center;
      margin-bottom: 3rem;
      padding-bottom: 2rem;
      border-bottom: 1px solid var(--border-color);
    }
    h1 { font-size: 2.5rem; margin-bottom: 0.5rem; }
    .subtitle { color: var(--text-muted); font-size: 1.1rem; }
    .version-list { display: flex; flex-direction: column; gap: 1rem; }
    .version-card {
      background: var(--card-bg);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      padding: 1.5rem;
      transition: border-color 0.2s;
    }
    .version-card:hover { border-color: var(--accent-color); }
    .version-header { display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem; }
    .version-name { font-size: 1.25rem; font-weight: 600; }
    .version-badge {
      font-size: 0.75rem;
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      background: var(--accent-color);
      color: white;
    }
    .version-badge.latest { background: #238636; }
    .doc-links { display: flex; gap: 1rem; flex-wrap: wrap; }
    .doc-link {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.6rem 1rem;
      border-radius: 6px;
      text-decoration: none;
      font-weight: 500;
      transition: opacity 0.2s;
    }
    .doc-link:hover { opacity: 0.85; }
    .doc-link.ts { background: var(--ts-color); color: white; }
    .doc-link.py { background: var(--py-color); color: white; }
    .doc-link.wiki { background: #6e40c9; color: white; }
    .doc-link svg { width: 18px; height: 18px; }
    footer {
      margin-top: 3rem;
      padding-top: 2rem;
      border-top: 1px solid var(--border-color);
      text-align: center;
      color: var(--text-muted);
    }
    footer a { color: var(--accent-color); text-decoration: none; }
    footer a:hover { text-decoration: underline; }
    .loading { text-align: center; padding: 2rem; color: var(--text-muted); }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Wax Documentation</h1>
      <p class="subtitle">Hive blockchain protocol library for TypeScript and Python</p>
    </header>
    <main>
      <div id="versions" class="version-list">
        <div class="loading">Loading versions...</div>
      </div>
    </main>
    <footer>
      <p>
        <a href="https://github.com/openhive-network/wax">GitHub</a> ·
        <a href="https://gitlab.syncad.com/hive/wax">GitLab</a> ·
        <a href="https://www.npmjs.com/package/@hiveio/wax">npm</a> ·
        <a href="https://pypi.org/project/project/hiveio-wax/">PyPI</a>
      </p>
    </footer>
  </div>
  <script>
    const tsIcon = `<svg viewBox="0 0 24 24" fill="currentColor"><path d="M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 0 1-1.012 1.085 4.38 4.38 0 0 1-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 0 1-1.84-.164 5.544 5.544 0 0 1-1.512-.493v-2.63a5.033 5.033 0 0 0 3.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 0 0-.074-1.089 2.12 2.12 0 0 0-.537-.5 5.597 5.597 0 0 0-.807-.444 27.72 27.72 0 0 0-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 0 1 1.47-.629 7.536 7.536 0 0 1 1.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z"/></svg>`;
    const pyIcon = `<svg viewBox="0 0 24 24" fill="currentColor"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"/></svg>`;
    const wikiIcon = `<svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>`;
    fetch('versions.json')
      .then(res => res.json())
      .then(data => {
        const container = document.getElementById('versions');
        if (!data.versions || data.versions.length === 0) {
          container.innerHTML = '<p class="loading">No documentation versions available yet.</p>';
          return;
        }
        container.innerHTML = data.versions.map((version, index) => {
          const isLatest = version === 'develop';
          const isNewestRelease = !isLatest && index === (data.versions[0] === 'develop' ? 1 : 0);
          let badge = '';
          if (isLatest) badge = '<span class="version-badge latest">latest</span>';
          else if (isNewestRelease) badge = '<span class="version-badge">stable</span>';
          return `
            <div class="version-card">
              <div class="version-header">
                <span class="version-name">${version}</span>
                ${badge}
              </div>
              <div class="doc-links">
                <a href="${version}/wiki/" class="doc-link wiki">${wikiIcon} Wiki</a>
                <a href="${version}/wiki/ts/" class="doc-link ts">${tsIcon} TypeScript API</a>
                <a href="${version}/wiki/python/" class="doc-link py">${pyIcon} Python API</a>
              </div>
            </div>`;
        }).join('');
      })
      .catch(err => {
        document.getElementById('versions').innerHTML = '<p class="loading">Failed to load versions.</p>';
        console.error('Failed to load versions:', err);
      });
  </script>
</body>
</html>
