<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="turbo-root" content="/workerbee-doc/-/bw-github-pages-docs-v2">
    <meta name="turbo-cache-control" content="no-cache" data-turbo-track="reload" data-track-token="3.11.0.823562242177">

    <!-- See retype.com -->
    <meta name="generator" content="Retype 3.11.0">

    <!-- Primary Meta Tags -->
    <title>Core Architecture | WorkerBee &#128218;</title>
    <meta name="title" content="Core Architecture | WorkerBee üìö">
    <meta name="description" content="WorkerBee is built on a sophisticated multi-layered architecture that ensures high performance, reliability, and ease of use.">

    <!-- Canonical -->
    <link rel="canonical" href="https://hive.pages.syncad.com/workerbee-doc/-/bw-github-pages-docs-v2/interfaces/core-architecture/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://hive.pages.syncad.com/workerbee-doc/-/bw-github-pages-docs-v2/interfaces/core-architecture/">
    <meta property="og:title" content="Core Architecture | WorkerBee üìö">
    <meta property="og:description" content="WorkerBee is built on a sophisticated multi-layered architecture that ensures high performance, reliability, and ease of use.">
    <meta property="og:image" content="https://hive.pages.syncad.com/workerbee-doc/-/bw-github-pages-docs-v2/static/wb-cycle.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://hive.pages.syncad.com/workerbee-doc/-/bw-github-pages-docs-v2/interfaces/core-architecture/">
    <meta property="twitter:title" content="Core Architecture | WorkerBee üìö">
    <meta property="twitter:description" content="WorkerBee is built on a sophisticated multi-layered architecture that ensures high performance, reliability, and ease of use.">
    <meta property="twitter:image" content="https://hive.pages.syncad.com/workerbee-doc/-/bw-github-pages-docs-v2/static/wb-cycle.png">

    <script data-cfasync="false">(function(){var cl=document.documentElement.classList,ls=localStorage.getItem("retype_scheme"),hd=cl.contains("dark"),hl=cl.contains("light"),wm=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;if(ls==="dark"||(!ls&&wm&&!hd&&!hl)){cl.remove("light");cl.add("dark")}else if(ls==="light"||(!ls&&!wm&&!hd&&!hl)){cl.remove("dark");cl.add("light")}})();</script>

    <link href="../../static/favicon.ico" rel="icon">
    <link href="../../resources/css/retype.css?v=3.11.0.823562242177" rel="stylesheet">

    <script data-cfasync="false" src="../../resources/js/config.js?v=3.11.0.823562242177" data-turbo-eval="false" defer></script>
    <script data-cfasync="false" src="../../resources/js/retype.js?v=3.11.0" data-turbo-eval="false" defer></script>
    <script id="lunr-js" data-cfasync="false" src="../../resources/js/lunr.js?v=3.11.0.823562242177" data-turbo-eval="false" defer></script>
    <script id="prism-js" data-cfasync="false" src="../../resources/js/prism.js?v=3.11.0.823562242177" defer></script>

    <style>
      /* Custom CSS: https://github.com/retypeapp/retype/discussions/81#discussioncomment-2473238 */

      :root {
        /* oklch values for Hive theme - https://oklch.com/ */
        --hive-lightness:       0.58;
        --hive-lightness-hover: 0.48;
        --hive-chroma:          0.2;

        --hive-primary:         var(--hive-lightness)       var(--hive-chroma) 24;
        --hive-primary-hover:   var(--hive-lightness-hover) var(--hive-chroma) 30;
        --hive-primary-text:    var(--hive-lightness)       var(--hive-chroma) 15;

        --hive-callout-primary: var(--hive-lightness) 0.044 265;
      }

      .text-base-500, .text-badge-primary-text, button, .text-badge-info-text {
        color: oklch(var(--hive-primary-text)) !important;
      }

      .hover\:border-base-border-hover:hover {
        border-color: oklch(var(--hive-primary-hover)) !important;
      }
      .border-badge-primary-border, .border-badge-info-border {
        border-color: oklch(var(--hive-primary)  / .2) !important;
      }
      .border-gray-400 {
        border-color: oklch(var(--hive-primary-hover) / .9) !important;
      }

      .bg-gray-100 {
        background-color: oklch(var(--hive-primary-hover) / .05) !important;
      }
      .bg-gray-200, .hover\:bg-nav-item-bg-hover:hover, .bg-badge-info {
        background-color: oklch(var(--hive-primary-hover) / .1) !important;
      }

      .text-nav-item-text-active, .bg-badge-primary, .bg-base-item-bg:hover, .hover\:bg-gray-200:hover, .hover\:bg-base-item-bg-hover:hover,
      .bg-base-item-bg-hover, button.scheme-menu-item:hover, .scheme-menu-item-active {
        background-color: oklch(var(--hive-primary) / .1) !important;
      }

      a.text-toc-text-active, a.hover\:text-toc-text-hover:hover, .text-branding-label-text, .text-nav-item-text-active,
      nav a, footer a, a.header-anchor-trigger, .retype-markdown a {
        color: oklch(var(--hive-primary)) !important;
      }

      .hover\:bg-nav-item-bg-hover:hover > a > span, .dark button:hover,
      button:hover, nav a:hover, footer a:hover, .retype-markdown a:hover,
      .retype-markdown div > h1 > .header-anchor-trigger:hover, .retype-markdown div > h2 > .header-anchor-trigger:hover,
      .retype-markdown div > h3 > .header-anchor-trigger:hover, .retype-markdown div > h4 > .header-anchor-trigger:hover,
      .retype-markdown div > h5 > .header-anchor-trigger:hover, .retype-markdown div > h6 > .header-anchor-trigger:hover {
        color: oklch(var(--hive-primary-hover)) !important;
      }

      .border-tab-border-active {
        border-color: oklch(var(--hive-primary)) !important;
      }

      .bg-toc-border-active, .bg-nav-item-border-active {
        background-color: oklch(var(--hive-primary)) !important;
      }

      .ring-1 {
        box-shadow: 0 0 0 1px oklch(var(--hive-primary)) !important;
      }

      /* Override default callout colors to match secondary one - this is to avoid confusion with error callouts */
      .text-callout-primary {
        color: oklch(var(--hive-callout-primary)) !important;
      }
      .bg-callout-primary {
        background-color: oklch(var(--hive-callout-primary)) !important;
      }
    </style>
    <script>
      // This code is responsible for persisting the selected programming language
      {
        const languages = {
          'javascript': [],
          'python': []
        };
        const languageKeys = Object.keys(languages);

        const originalHistoryPush = history.pushState;
        history.pushState = function(...args) {
          const url = new URL(args[2]);
          if (url.host !== window.location.host)
            return originalHistoryPush.apply(this, args); // Do not interfere with external links

          const lang = window.localStorage.getItem('lang');
          if (lang) {
            // We could use the official Retype supported syntax, but it is not persistant over multiple websites,
            // We also cannot link to a specific section when using the hash syntax and when used, it scrolls down.
            // We can uncomment the following code when Retype makes it work better or adds some official support for persistant state tabs.
            // const hash = url.hash.slice(1); if (!hash || languageKeys.includes(hash)) url.hash = `#${lang}`; else
            // For now we have to use the query syntax:
            url.searchParams.set('lang', lang);
            args[2] = url.toString();
          }
          return originalHistoryPush.apply(this, args);
        };

        let previousLang;

        window.addEventListener('DOMContentLoaded', () => {
          // Also apply the current language periodically.
          const applyLanguage = () => {
            const lang = window.localStorage.getItem('lang');
            if (!lang)
              return;
            languages[lang].forEach(el => {
              el.click();
            });
          }
          // Tab items are generated on the client side based on the templates, so we need to wait for them to be available.
          // Also the entire DOM of the document.body can be replaced, invalidating all of our components, so we have to re-gather them periodically.
          const gatherNodes = () => {
            Object.keys(languages).forEach(async lang => {
              let langNodes;
              while(true) {
                langNodes = document.querySelectorAll(`div#${lang} > a`);
                if (langNodes.length > 0)
                  break;

                await new Promise(resolve => setTimeout(resolve, 50));
              }

              if (langNodes[0] === languages[lang][0])
                return; // Already applied on click event

              languages[lang] = langNodes;

              languages[lang].forEach(el => {
                el.addEventListener("click", event => {
                  if (!event.isTrusted) return; // Ignore non-user-initiated events
                  window.localStorage.setItem('lang', lang);
                  applyLanguage();
                  // Change the user location for the SEO - load other languages snippets and documentation
                  window.history.pushState(null, '', window.location.href);
                });
              });
              applyLanguage();
            });
          };
          setInterval(gatherNodes, 200);
          setInterval(applyLanguage, 1000);
          const url = new URL(window.location.href);
          const lang = url.searchParams.get('lang');
          if (lang) // On hard refresh, or on first visit, when lang in query provided - apply this setting
            window.localStorage.setItem('lang', lang);
        });
      }
    </script>

</head>
<body>
    <div id="retype-app" class="relative text-base antialiased text-base-text bg-base-bg font-body">
        <div class="absolute bottom-0 left-0" style="top: 5rem; right: 50%"></div>
    
        <header id="retype-header" class="sticky top-0 z-30 flex w-full h-16 bg-header-bg border-b border-header-border md:h-20">
            <div class="container relative flex items-center justify-between pr-6 grow md:justify-start">
                <!-- Mobile menu button skeleton -->
                <button v-cloak class="skeleton retype-mobile-menu-button flex items-center justify-center shrink-0 overflow-hidden dark:text-white focus:outline-none rounded-full w-10 h-10 ml-3.5 md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="mb-px shrink-0" width="24" height="24" viewBox="0 0 24 24" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor"><path d="M2 4h20v2H2zM2 11h20v2H2zM2 18h20v2H2z"></path></g></svg></button>
                <div v-cloak id="retype-sidebar-left-toggle-button"></div>
        
                <!-- Logo -->
                <div class="flex items-center justify-between h-full py-2 md:w-75">
                    <div class="flex items-center px-2 md:px-6">
                        <a id="retype-branding-logo" href="../../" class="flex items-center leading-snug text-xl">
                            <span class="w-10 mr-2 grow-0 shrink-0 overflow-hidden">
                                <img class="max-h-10 dark:hidden md:inline-block" src="../../static/hive.svg">
                                <img class="max-h-10 hidden dark:inline-block" src="../../static/hive.svg">
                            </span>
                            <span class="dark:text-white font-bold line-clamp-1 md:line-clamp-2">WorkerBee Docs</span>
                        </a><span id="retype-branding-label" class="inline-flex mt-1 px-2 py-1 ml-4 text-xs font-medium leading-none items-center rounded-md bg-branding-label-bg text-branding-label-text ring-1 ring-branding-label-border ring-inset md:inline-block">1.27.6-rc13</span>
                    </div>
        
                    <span class="hidden h-8 border-r md:inline-block border-base-border"></span>
                </div>
        
                <div class="flex justify-between md:grow">
                    <!-- Top Nav -->
                    <nav id="retype-header-nav" class="hidden md:flex">
                        <ul class="flex flex-col mb-4 md:pl-16 md:mb-0 md:flex-row md:items-center">
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-header-text font-header-text-weight hover:text-header-text-hover" href="https://hive.io" target="_blank">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                        <g fill="currentColor">
                                            <path d="m12 20.703.343.667a.748.748 0 0 1-.686 0l-.003-.002-.007-.003-.025-.013a31.138 31.138 0 0 1-5.233-3.576C3.8 15.573 1 12.332 1 8.514v-.001C1 5.053 3.829 2.5 6.736 2.5 9.03 2.5 10.881 3.726 12 5.605 13.12 3.726 14.97 2.5 17.264 2.5 20.17 2.5 23 5.052 23 8.514c0 3.818-2.801 7.06-5.389 9.262a31.148 31.148 0 0 1-5.233 3.576l-.025.013-.007.003-.002.001ZM6.736 4C4.657 4 2.5 5.88 2.5 8.514c0 3.107 2.324 5.96 4.861 8.12a29.655 29.655 0 0 0 4.566 3.175l.073.041.073-.04c.271-.153.661-.38 1.13-.674.94-.588 2.19-1.441 3.436-2.502 2.537-2.16 4.861-5.013 4.861-8.12C21.5 5.88 19.343 4 17.264 4c-2.106 0-3.801 1.389-4.553 3.643a.751.751 0 0 1-1.422 0C10.537 5.389 8.841 4 6.736 4Z"/>
                                        </g>
                                    </svg>
                                    <span>Hive Website</span>
                                </a>
                            </li>
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-header-text font-header-text-weight hover:text-header-text-hover" href="https://hive.blog" target="_blank">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                        <g fill="currentColor">
                                            <path d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 14.25 14H8.061l-2.574 2.573A1.458 1.458 0 0 1 3 15.543V14H1.75A1.75 1.75 0 0 1 0 12.25v-9.5C0 1.784.784 1 1.75 1ZM1.5 2.75v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Z"/><path d="M22.5 8.75a.25.25 0 0 0-.25-.25h-3.5a.75.75 0 0 1 0-1.5h3.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 22.25 20H21v1.543a1.457 1.457 0 0 1-2.487 1.03L15.939 20H10.75A1.75 1.75 0 0 1 9 18.25v-1.465a.75.75 0 0 1 1.5 0v1.465c0 .138.112.25.25.25h5.5a.75.75 0 0 1 .53.22l2.72 2.72v-2.19a.75.75 0 0 1 .75-.75h2a.25.25 0 0 0 .25-.25v-9.5Z"/>
                                        </g>
                                    </svg>
                                    <span>Hive Blog</span>
                                </a>
                            </li>
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-header-text font-header-text-weight hover:text-header-text-hover" href="https://gitlab.syncad.com/hive/workerbee" target="_blank">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                        <g fill="currentColor">
                                            <path d="M15 4.75a3.25 3.25 0 1 1 6.5 0 3.25 3.25 0 0 1-6.5 0ZM2.5 19.25a3.25 3.25 0 1 1 6.5 0 3.25 3.25 0 0 1-6.5 0Zm0-14.5a3.25 3.25 0 1 1 6.5 0 3.25 3.25 0 0 1-6.5 0ZM5.75 6.5a1.75 1.75 0 1 0-.001-3.501A1.75 1.75 0 0 0 5.75 6.5Zm0 14.5a1.75 1.75 0 1 0-.001-3.501A1.75 1.75 0 0 0 5.75 21Zm12.5-14.5a1.75 1.75 0 1 0-.001-3.501A1.75 1.75 0 0 0 18.25 6.5Z"/><path d="M5.75 16.75A.75.75 0 0 1 5 16V8a.75.75 0 0 1 1.5 0v8a.75.75 0 0 1-.75.75Z"/><path d="M17.5 8.75v-1H19v1a3.75 3.75 0 0 1-3.75 3.75h-7a1.75 1.75 0 0 0-1.75 1.75H5A3.25 3.25 0 0 1 8.25 11h7a2.25 2.25 0 0 0 2.25-2.25Z"/>
                                        </g>
                                    </svg>
                                    <span>WorkerBee GitLab</span>
                                </a>
                            </li>
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-header-text font-header-text-weight hover:text-header-text-hover" href="https://www.npmjs.com/package/@hiveio/workerbee" target="_blank">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                        <g fill="currentColor">
                                            <path d="M12.876.64V.639l8.25 4.763c.541.313.875.89.875 1.515v9.525a1.75 1.75 0 0 1-.875 1.516l-8.25 4.762a1.748 1.748 0 0 1-1.75 0l-8.25-4.763a1.75 1.75 0 0 1-.875-1.515V6.917c0-.625.334-1.202.875-1.515L11.126.64a1.748 1.748 0 0 1 1.75 0Zm-1 1.298L4.251 6.34l7.75 4.474 7.75-4.474-7.625-4.402a.248.248 0 0 0-.25 0Zm.875 19.123 7.625-4.402a.25.25 0 0 0 .125-.216V7.639l-7.75 4.474ZM3.501 7.64v8.803c0 .09.048.172.125.216l7.625 4.402v-8.947Z"/>
                                        </g>
                                    </svg>
                                    <span>NPM package</span>
                                </a>
                            </li>
        
                        </ul>
                    </nav>
        
                    <!-- Header Right Skeleton -->
                    <div v-cloak class="flex justify-end grow skeleton">
        
                        <!-- Search input mock -->
                        <div class="relative hidden w-40 lg:block lg:max-w-sm lg:ml-auto">
                            <div class="absolute flex items-center justify-center h-full pl-3 dark:text-dark-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon-base" width="16" height="16" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 1px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                            </div>
                            <input class="w-full h-10 placeholder-search-placeholder transition-colors duration-200 ease-in bg-search-bg border border-transparent rounded md:text-sm hover:border-search-border-hover focus:outline-none focus:border-search-border-focus" style="padding: 0.625rem 0.75rem 0.625rem 2rem" type="text" placeholder="Search">
                        </div>
        
                        <!-- Mobile search button -->
                        <div class="flex items-center justify-center w-10 h-10 lg:hidden">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="20" height="20" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                        </div>
        
                        <!-- Dark mode switch placeholder -->
                        <div class="w-10 h-10 lg:ml-2"></div>
        
                        <!-- History button -->
                        <div class="flex items-center justify-center w-10 h-10" style="margin-right: -0.625rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="22" height="22" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor" ><g ><path d="M12.01 6.01c-.55 0-1 .45-1 1V12a1 1 0 00.4.8l3 2.22a.985.985 0 001.39-.2.996.996 0 00-.21-1.4l-2.6-1.92V7.01c.02-.55-.43-1-.98-1z"></path><path d="M12.01 1.91c-5.33 0-9.69 4.16-10.05 9.4l-.29-.26a.997.997 0 10-1.34 1.48l1.97 1.79c.19.17.43.26.67.26s.48-.09.67-.26l1.97-1.79a.997.997 0 10-1.34-1.48l-.31.28c.34-4.14 3.82-7.41 8.05-7.41 4.46 0 8.08 3.63 8.08 8.09s-3.63 8.08-8.08 8.08c-2.18 0-4.22-.85-5.75-2.4a.996.996 0 10-1.42 1.4 10.02 10.02 0 007.17 2.99c5.56 0 10.08-4.52 10.08-10.08.01-5.56-4.52-10.09-10.08-10.09z"></path></g></g></svg>
                        </div>
                    </div>
        
                    <div v-cloak class="flex justify-end grow">
                        <div id="retype-mobile-search-button"></div>
                        <doc-search-desktop></doc-search-desktop>
        
                        <doc-theme-switch class="lg:ml-2"></doc-theme-switch>
                        <doc-history></doc-history>
                    </div>
                </div>
            </div>
        </header>
    
    
        <div id="retype-container" class="container relative flex bg-white">
            <!-- Sidebar Skeleton -->
            <div v-cloak class="fixed flex flex-col shrink-0 duration-300 ease-in-out bg-sidebar-left-bg border-sidebar-left-border sidebar top-20 w-75 border-r h-screen md:sticky transition-transform skeleton">
            
                <div class="flex items-center h-16 px-6">
                    <input class="w-full h-8 px-3 py-2 transition-colors duration-200 ease-linear bg-filter-bg border border-filter-border rounded shadow-none text-sm focus:outline-none focus:border-filter-border-focus" type="text" placeholder="Filter">
                </div>
            
                <div class="pl-6 mt-1 mb-4">
                    <div class="w-32 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                    <div class="w-48 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                    <div class="w-40 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                    <div class="w-32 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                    <div class="w-48 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                    <div class="w-40 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                </div>
            
                <div class="shrink-0 mt-auto bg-transparent dark:border-base-border">
                    <a class="flex items-center justify-center flex-nowrap h-16 text-gray-350 dark:text-dark-400 hover:text-gray-600 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                        <span class="text-xs whitespace-nowrap">Powered by</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                    </a>
                </div>
            </div>
            
            <!-- Sidebar component -->
            <doc-sidebar v-cloak>
                <template #sidebar-footer>
                    <div class="shrink-0 mt-auto border-t md:bg-transparent md:border-none dark:border-base-border">
            
                        <div class="py-3 px-6 md:hidden border-b dark:border-base-border">
                            <nav>
                                <ul class="flex flex-wrap justify-center items-center">
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-header-text font-header-text-weight hover:text-header-text-hover" href="https://hive.io" target="_blank">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                                <g fill="currentColor">
                                                    <path d="m12 20.703.343.667a.748.748 0 0 1-.686 0l-.003-.002-.007-.003-.025-.013a31.138 31.138 0 0 1-5.233-3.576C3.8 15.573 1 12.332 1 8.514v-.001C1 5.053 3.829 2.5 6.736 2.5 9.03 2.5 10.881 3.726 12 5.605 13.12 3.726 14.97 2.5 17.264 2.5 20.17 2.5 23 5.052 23 8.514c0 3.818-2.801 7.06-5.389 9.262a31.148 31.148 0 0 1-5.233 3.576l-.025.013-.007.003-.002.001ZM6.736 4C4.657 4 2.5 5.88 2.5 8.514c0 3.107 2.324 5.96 4.861 8.12a29.655 29.655 0 0 0 4.566 3.175l.073.041.073-.04c.271-.153.661-.38 1.13-.674.94-.588 2.19-1.441 3.436-2.502 2.537-2.16 4.861-5.013 4.861-8.12C21.5 5.88 19.343 4 17.264 4c-2.106 0-3.801 1.389-4.553 3.643a.751.751 0 0 1-1.422 0C10.537 5.389 8.841 4 6.736 4Z"/>
                                                </g>
                                            </svg>
                                            <span>Hive Website</span>
                                        </a>
                                    </li>
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-header-text font-header-text-weight hover:text-header-text-hover" href="https://hive.blog" target="_blank">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                                <g fill="currentColor">
                                                    <path d="M1.75 1h12.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 14.25 14H8.061l-2.574 2.573A1.458 1.458 0 0 1 3 15.543V14H1.75A1.75 1.75 0 0 1 0 12.25v-9.5C0 1.784.784 1 1.75 1ZM1.5 2.75v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25Z"/><path d="M22.5 8.75a.25.25 0 0 0-.25-.25h-3.5a.75.75 0 0 1 0-1.5h3.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0 1 22.25 20H21v1.543a1.457 1.457 0 0 1-2.487 1.03L15.939 20H10.75A1.75 1.75 0 0 1 9 18.25v-1.465a.75.75 0 0 1 1.5 0v1.465c0 .138.112.25.25.25h5.5a.75.75 0 0 1 .53.22l2.72 2.72v-2.19a.75.75 0 0 1 .75-.75h2a.25.25 0 0 0 .25-.25v-9.5Z"/>
                                                </g>
                                            </svg>
                                            <span>Hive Blog</span>
                                        </a>
                                    </li>
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-header-text font-header-text-weight hover:text-header-text-hover" href="https://gitlab.syncad.com/hive/workerbee" target="_blank">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                                <g fill="currentColor">
                                                    <path d="M15 4.75a3.25 3.25 0 1 1 6.5 0 3.25 3.25 0 0 1-6.5 0ZM2.5 19.25a3.25 3.25 0 1 1 6.5 0 3.25 3.25 0 0 1-6.5 0Zm0-14.5a3.25 3.25 0 1 1 6.5 0 3.25 3.25 0 0 1-6.5 0ZM5.75 6.5a1.75 1.75 0 1 0-.001-3.501A1.75 1.75 0 0 0 5.75 6.5Zm0 14.5a1.75 1.75 0 1 0-.001-3.501A1.75 1.75 0 0 0 5.75 21Zm12.5-14.5a1.75 1.75 0 1 0-.001-3.501A1.75 1.75 0 0 0 18.25 6.5Z"/><path d="M5.75 16.75A.75.75 0 0 1 5 16V8a.75.75 0 0 1 1.5 0v8a.75.75 0 0 1-.75.75Z"/><path d="M17.5 8.75v-1H19v1a3.75 3.75 0 0 1-3.75 3.75h-7a1.75 1.75 0 0 0-1.75 1.75H5A3.25 3.25 0 0 1 8.25 11h7a2.25 2.25 0 0 0 2.25-2.25Z"/>
                                                </g>
                                            </svg>
                                            <span>WorkerBee GitLab</span>
                                        </a>
                                    </li>
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-header-text font-header-text-weight hover:text-header-text-hover" href="https://www.npmjs.com/package/@hiveio/workerbee" target="_blank">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mb-px mr-1" width="18" height="18" viewBox="0 0 24 24" role="presentation">
                                                <g fill="currentColor">
                                                    <path d="M12.876.64V.639l8.25 4.763c.541.313.875.89.875 1.515v9.525a1.75 1.75 0 0 1-.875 1.516l-8.25 4.762a1.748 1.748 0 0 1-1.75 0l-8.25-4.763a1.75 1.75 0 0 1-.875-1.515V6.917c0-.625.334-1.202.875-1.515L11.126.64a1.748 1.748 0 0 1 1.75 0Zm-1 1.298L4.251 6.34l7.75 4.474 7.75-4.474-7.625-4.402a.248.248 0 0 0-.25 0Zm.875 19.123 7.625-4.402a.25.25 0 0 0 .125-.216V7.639l-7.75 4.474ZM3.501 7.64v8.803c0 .09.048.172.125.216l7.625 4.402v-8.947Z"/>
                                                </g>
                                            </svg>
                                            <span>NPM package</span>
                                        </a>
                                    </li>
            
                                </ul>
                            </nav>
                        </div>
            
                        <a class="flex items-center justify-center flex-nowrap h-16 text-gray-350 dark:text-dark-400 hover:text-gray-600 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                            <span class="text-xs whitespace-nowrap">Powered by</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                        </a>
                    </div>
                </template>
            </doc-sidebar>
    
            <div class="grow min-w-0 bg-body-bg">
                <!-- Render "toolbar" template here on api pages --><!-- Render page content -->
                <div class="flex">
                    <div id="retype-main" class="min-w-0 p-4 grow md:px-16">
                        <main class="relative pb-12 lg:pt-2">
                            <div class="retype-markdown" id="retype-content">
                                <!-- Rendered if sidebar right is enabled -->
                                <div id="retype-sidebar-right-toggle"></div>
                                <!-- Page content  -->
<doc-anchor-target id="core-architecture" class="break-words">
    <h1>
        <doc-anchor-trigger class="header-anchor-trigger" to="#core-architecture">#</doc-anchor-trigger>
        <span>Core Architecture</span>
    </h1>
</doc-anchor-target>
<p>WorkerBee is built on a sophisticated multi-layered architecture that ensures high performance, reliability, and ease of use. Understanding this architecture helps you leverage WorkerBee&#x27;s full potential.</p>
<doc-anchor-target id="mag-architectural-overview">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#mag-architectural-overview">#</doc-anchor-trigger>
        <span><span class="docs-emoji">&#x1F50D;</span> Architectural Overview</span>
    </h2>
</doc-anchor-target>
<p><figure class="content-center">
    <img src="../../static/wb-cycle.png" alt="WorkerBee execution loop cycle" class="rounded-lg rounded-image-rounded border-image-border border-image-border-width" />
    <figcaption class="caption">WorkerBee execution loop cycle</figcaption>
</figure>
</p>
<doc-anchor-target id="robot_face-data-evaluation-context-dec">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#robot_face-data-evaluation-context-dec">#</doc-anchor-trigger>
        <span><span class="docs-emoji">&#x1F916;</span> Data Evaluation Context (DEC)</span>
    </h2>
</doc-anchor-target>
<p>The <strong>Data Evaluation Context</strong> is WorkerBee&#x27;s central nervous system. It orchestrates all data flow and provides:</p>
<doc-anchor-target id="dependency-injection">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#dependency-injection">#</doc-anchor-trigger>
        <span>Dependency Injection</span>
    </h3>
</doc-anchor-target>
<p>The DEC automatically resolves dependencies between collectors, ensuring the right data sources are available when needed:</p>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre translate="no" class="language-typescript"><code v-pre class="language-typescript">// When you use both post and account filters
workerbee.observe
  .onPosts(&quot;alice&quot;)
  .onAccountsBalanceChange(false, &quot;alice&quot;)
  .subscribe(/* ... */);

// DEC automatically injects:
// - OperationCollector (for posts)
// - AccountCollector (for balance changes)
// - BlockCollector (dependency of both)
// - DynamicGlobalPropertiesCollector (dependency of BlockCollector)</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="smart-caching-system">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#smart-caching-system">#</doc-anchor-trigger>
        <span>Smart Caching System</span>
    </h3>
</doc-anchor-target>
<p>Within each evaluation cycle, the DEC maintains a shared cache that dramatically reduces API calls:</p>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre translate="no" class="language-typescript"><code v-pre class="language-typescript">// These operations share cached blockchain data
workerbee.observe
  .onPosts(&quot;alice&quot;)      // Needs operation data
  .onComments(&quot;alice&quot;)   // Also needs operation data (shared cache!)
  .onVotes(&quot;alice&quot;)      // Also needs operation data (shared cache!)
  .subscribe(/* ... */);

// Result: 1 API call instead of 3! üöÄ</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="cycle-management">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#cycle-management">#</doc-anchor-trigger>
        <span>Cycle Management</span>
    </h3>
</doc-anchor-target>
<p>The DEC manages evaluation cycles intelligently:</p>
<ul>
<li><strong>Historical Mode</strong>: Fast processing of past blocks</li>
<li><strong>Live Mode</strong>: Time-based cycles (default: 2 seconds)</li>
</ul>
<doc-anchor-target id="mag_right-filters-layer">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#mag_right-filters-layer">#</doc-anchor-trigger>
        <span><span class="docs-emoji">&#x1F50E;</span> Filters Layer</span>
    </h2>
</doc-anchor-target>
<p>Filters evaluate blockchain conditions and determine when your observers should be triggered.</p>
<doc-anchor-target id="parallel-execution">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#parallel-execution">#</doc-anchor-trigger>
        <span>Parallel Execution</span>
    </h3>
</doc-anchor-target>
<p>All filters run concurrently for maximum performance:</p>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre translate="no" class="language-typescript"><code v-pre class="language-typescript">workerbee.observe
  .onPosts(&quot;alice&quot;)           // Filter 1 (parallel)
  .onComments(&quot;bob&quot;)          // Filter 2 (parallel)
  .onAccountsBalanceChange(false, &quot;charlie&quot;) // Filter 3 (parallel)
  .subscribe(/* ... */);</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="short-circuit-evaluation">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#short-circuit-evaluation">#</doc-anchor-trigger>
        <span>Short Circuit Evaluation</span>
    </h3>
</doc-anchor-target>
<p>When any filter matches, WorkerBee uses short-circuit evaluation to stop unnecessary processing:</p>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre translate="no" class="language-typescript"><code v-pre class="language-typescript">workerbee.observe
  .onPosts(&quot;alice&quot;)     // ‚úÖ Matches first
  .onComments(&quot;bob&quot;)    // ‚ùå Cancelled (short circuit)
  .onVotes(&quot;charlie&quot;)   // ‚ùå Cancelled (short circuit)
  .subscribe(/* ... */);</code></pre>
</doc-codeblock></div>
<p><figure class="content-center">
    <img src="../../static/wb-gantt-parallel.png" alt="" class="rounded-lg rounded-image-rounded border-image-border border-image-border-width" />
    <figcaption class="caption"></figcaption>
</figure>
</p>
<doc-anchor-target id="truck-providers-layer">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#truck-providers-layer">#</doc-anchor-trigger>
        <span><span class="docs-emoji">&#x1F69A;</span> Providers Layer</span>
    </h2>
</doc-anchor-target>
<p>Providers gather and transform data for your observers, running only when filters pass.</p>
<doc-anchor-target id="data-transformation">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#data-transformation">#</doc-anchor-trigger>
        <span>Data Transformation</span>
    </h3>
</doc-anchor-target>
<p>Providers normalize raw blockchain data into WorkerBee&#x27;s clean API:</p>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre translate="no" class="language-typescript"><code v-pre class="language-typescript">// Raw blockchain operation data ‚Üí Clean post objects
{
  &quot;op&quot;: [&quot;comment&quot;, {
    &quot;parent_author&quot;: &quot;&quot;,
    &quot;parent_permlink&quot;: &quot;hive&quot;,
    &quot;author&quot;: &quot;alice&quot;,
    &quot;permlink&quot;: &quot;my-post&quot;,
    &quot;title&quot;: &quot;Hello World&quot;,
    &quot;body&quot;: &quot;This is my post content...&quot;,
    &quot;json_metadata&quot;: &quot;{\&quot;tags\&quot;:[\&quot;hive\&quot;]}&quot;
  }]
}

// ‚Üì Becomes ‚Üì

{
  posts: {
    alice: [{
      author: &quot;alice&quot;,
      permlink: &quot;my-post&quot;,
      title: &quot;Hello World&quot;,
      body: &quot;This is my post content...&quot;,
      tags: [&quot;hive&quot;],
      created: &quot;2024-01-01T12:00:00.000Z&quot;
    }]
  }
}</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="concurrent-processing">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#concurrent-processing">#</doc-anchor-trigger>
        <span>Concurrent Processing</span>
    </h3>
</doc-anchor-target>
<p>Like filters, providers run in parallel:</p>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre translate="no" class="language-typescript"><code v-pre class="language-typescript">workerbee.observe
  .onPosts(&quot;alice&quot;)
  .provideAccounts(&quot;alice&quot;, &quot;bob&quot;)    // Provider 1 (parallel)
  .provideFollowCounts(&quot;alice&quot;)       // Provider 2 (parallel)
  .provideVotingPower(&quot;alice&quot;)        // Provider 3 (parallel)
  .subscribe(/* ... */);</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="shopping_trolley-collectors-layer">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#shopping_trolley-collectors-layer">#</doc-anchor-trigger>
        <span><span class="docs-emoji">&#x1F6D2;</span> Collectors Layer</span>
    </h2>
</doc-anchor-target>
<p>Collectors are the data acquisition layer, responsible for fetching information from various sources.</p>
<doc-anchor-target id="dependency-resolution">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#dependency-resolution">#</doc-anchor-trigger>
        <span>Dependency Resolution</span>
    </h3>
</doc-anchor-target>
<p>Collectors can depend on each other, and the DEC resolves these dependencies automatically:</p>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre translate="no" class="language-typescript"><code v-pre class="language-typescript">// BlockHeaderCollector depends on DgpoCollector
workerbee.observe
  .onBlock()
  .subscribe(/* ... */);
// DEC injects BlockCollector automatically</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="overriding-collectors">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#overriding-collectors">#</doc-anchor-trigger>
        <span>Overriding Collectors</span>
    </h3>
</doc-anchor-target>
<p>One of WorkerBee&#x27;s powerful features is the ability to override multiple collectors using only one collector when it can retrieve all necessary data e.g. from a single API call. This happens automatically via the DEC.</p>
<p>The best example is the <code v-pre>HistoryDataFactory</code>, which uses only one API call to fetch all required data for historical analysis of block headers, block content and dynamic global properties state.</p>
<doc-anchor-target id="arrows_clockwise-data-flow-example">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#arrows_clockwise-data-flow-example">#</doc-anchor-trigger>
        <span><span class="docs-emoji">&#x1F503;</span> Data Flow Example</span>
    </h2>
</doc-anchor-target>
<p>Let&#x27;s trace a complete data flow for this observer:</p>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre translate="no" class="language-typescript"><code v-pre class="language-typescript">workerbee.observe
  .onPosts(&quot;alice&quot;)
  .provideAccounts(&quot;alice&quot;)
  .subscribe({
    next: ({ posts, accounts }) =&gt; {
      console.log('New post:', posts.alice[0].title);
      console.log('Alice balance:', accounts.alice.balance);
    }
  });</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="step-by-step-flow">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#step-by-step-flow">#</doc-anchor-trigger>
        <span>Step-by-Step Flow</span>
    </h3>
</doc-anchor-target>
<ol>
<li><p><strong>DEC Initialization</strong> <span class="docs-emoji">&#x1F9E0;</span></p>
<ul>
<li>Analyzes required filters: <code v-pre>PostFilter</code></li>
<li>Analyzes required providers: <code v-pre>AccountProvider</code></li>
<li>Injects collectors: <code v-pre>OperationCollector</code>, <code v-pre>AccountCollector</code>, <code v-pre>BlockCollector</code></li>
</ul>
</li>
<li><p><strong>Data Collection</strong> <span class="docs-emoji">&#x1F6D2;</span></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">BlockCollector ‚Üí Fetches latest block data
OperationCollector ‚Üí Extracts operations from blocks
AccountCollector ‚Üí Fetches Alice's account data</code></pre>
</doc-codeblock></div>
</li>
<li><p><strong>Filter Evaluation</strong> <span class="docs-emoji">&#x1F50E;</span></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">PostFilter ‚Üí Checks operations for Alice's posts
‚úÖ Found new post ‚Üí Trigger providers</code></pre>
</doc-codeblock></div>
</li>
<li><p><strong>Provider Execution</strong> <span class="docs-emoji">&#x1F69A;</span></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">PostProvider ‚Üí Transforms post operations to clean objects
AccountProvider ‚Üí Transforms account data to clean objects</code></pre>
</doc-codeblock></div>
</li>
<li><p><strong>Observer Callback</strong> <span class="docs-emoji">&#x1F933;</span></p>
<div class="codeblock-wrapper"><doc-codeblock>
<pre translate="no" class="language-none"><code v-pre class="language-none">Your code receives: { posts: {...}, accounts: {...} }</code></pre>
</doc-codeblock></div>
</li>
</ol>
<doc-anchor-target id="-custom-filters--providers-architecture">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#-custom-filters--providers-architecture">#</doc-anchor-trigger>
        <span><span class="docs-emoji">&#x1F6E0;&#xFE0F;</span> Custom Filters &amp; Providers Architecture</span>
    </h2>
</doc-anchor-target>
<p>WorkerBee supports custom filters and providers for extending functionality beyond built-in capabilities.</p>
<doc-anchor-target id="custom-filter-architecture">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#custom-filter-architecture">#</doc-anchor-trigger>
        <span>Custom Filter Architecture</span>
    </h3>
</doc-anchor-target>
<p><a href="../api-reference/#filter"><code v-pre>Custom filters</code></a> integrate seamlessly with the DEC system:</p>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre translate="no" class="language-typescript"><code v-pre class="language-typescript">// Custom filter has full access to cached data
bot.observe.filter({
  async match(data: DataEvaluationContext) {
    // Access cached blockchain data
    const { currentWitness } = await data.get(DynamicGlobalPropertiesClassifier);

    // Implement custom logic
    const externalData = await fetch(`/api/witness/${currentWitness}`);
    const { isReliable } = await externalData.json();

    return isReliable &amp;&amp; currentWitness === &quot;my-witness&quot;;
  }
});</code></pre>
</doc-codeblock></div>
<p><strong>Architecture Benefits:</strong></p>
<ul>
<li><strong>DEC Integration</strong>: Full access to cached collectors</li>
<li><strong>Performance</strong>: Reuses existing data rather than re-fetching</li>
<li><strong>Flexibility</strong>: Implement any custom logic</li>
<li><strong>Type Safety</strong>: TypeScript support throughout</li>
</ul>
<doc-anchor-target id="custom-provider-architecture">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#custom-provider-architecture">#</doc-anchor-trigger>
        <span>Custom Provider Architecture</span>
    </h3>
</doc-anchor-target>
<p><a href="../api-reference/#provide"><code v-pre>Custom providers</code></a> follow the same pattern as built-in providers:</p>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre translate="no" class="language-typescript"><code v-pre class="language-typescript">bot.observe.provide({
  async provide(data: DataEvaluationContext) {
    // Access blockchain data
    const { currentWitness } = await data.get(DynamicGlobalPropertiesClassifier);

    // Enrich with external data
    const stats = await this.fetchWitnessStats(currentWitness);

    return {
      witnessInfo: {
        name: currentWitness,
        ...stats
      }
    };
  }
});</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="store-based-data-sharing">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#store-based-data-sharing">#</doc-anchor-trigger>
        <span>Store-Based Data Sharing</span>
    </h3>
</doc-anchor-target>
<p>Use the DEC store to share data between custom components:</p>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre translate="no" class="language-typescript"><code v-pre class="language-typescript">import { CollectorClassifierBase } from '@hiveio/workerbee';

// Create custom classifier for shared state
class MySharedData extends CollectorClassifierBase&lt;{ cache: any }&gt; {}

// Filter stores data
bot.observe.filter({
  async match(data: DataEvaluationContext) {
    const store = data.accessStore(MySharedData);
    store.cache = { timestamp: Date.now(), computed: true };
    return true;
  }
})
// Provider accesses stored data
.provide({
  async provide(data: DataEvaluationContext) {
    const store = data.accessStore(MySharedData);
    return { fromFilter: store.cache };
  }
});</code></pre>
</doc-codeblock></div>
<doc-anchor-target id="filter-piped-architecture">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#filter-piped-architecture">#</doc-anchor-trigger>
        <span>Filter Piped Architecture</span>
    </h3>
</doc-anchor-target>
<p>If you want to simultaneously use filters and providers accessing the same data via DEC store, it is easier to use filters with piped provider data system.</p>
<p>The <a href="../api-reference/#filterpiped"><code v-pre>filterPiped</code></a> method creates a provider-filter chain where the provider runs first:</p>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre translate="no" class="language-typescript"><code v-pre class="language-typescript">bot.observe.filterPiped(
  // Provider function - runs first
  async (data: DataEvaluationContext) =&gt; {
    const externalData = await fetch('/api/status');
    return { apiStatus: await externalData.json() };
  },
  // Filter function - uses provider data
  ({ apiStatus }, data: DataEvaluationContext) =&gt; {
    return apiStatus.healthy &amp;&amp; apiStatus.load &lt; 0.8;
  }
);</code></pre>
</doc-codeblock></div>
<p><strong>Execution Flow:</strong></p>
<ol>
<li><strong>Provider Phase</strong>: Fetches external data</li>
<li><strong>Filter Phase</strong>: Evaluates condition using provider data</li>
<li><strong>Data Assembly</strong>: Provider data becomes part of notification</li>
<li><strong>Notification</strong>: Both blockchain and external data available</li>
</ol>
<doc-anchor-target id="chart_with_upwards_trend-performance-optimizations">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#chart_with_upwards_trend-performance-optimizations">#</doc-anchor-trigger>
        <span><span class="docs-emoji">&#x1F4C8;</span> Performance Optimizations</span>
    </h2>
</doc-anchor-target>
<doc-anchor-target id="caching-strategy">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#caching-strategy">#</doc-anchor-trigger>
        <span>Caching Strategy</span>
    </h3>
</doc-anchor-target>
<ul>
<li><strong>Per-Cycle Caching</strong>: Data is cached only within each evaluation cycle</li>
<li><strong>Atomic Snapshots</strong>: All components see consistent blockchain state</li>
<li><strong>Memory Efficient</strong>: Cache is cleared between cycles</li>
</ul>
<doc-anchor-target id="concurrency-benefits">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#concurrency-benefits">#</doc-anchor-trigger>
        <span>Concurrency Benefits</span>
    </h3>
</doc-anchor-target>
<ul>
<li><strong>Filter Parallelism</strong>: All conditions evaluated simultaneously</li>
<li><strong>Provider Parallelism</strong>: Data transformation happens concurrently</li>
<li><strong>Short-Circuit Logic</strong>: Unnecessary work is cancelled early</li>
</ul>
<doc-anchor-target id="smart-resource-management">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#smart-resource-management">#</doc-anchor-trigger>
        <span>Smart Resource Management</span>
    </h3>
</doc-anchor-target>
<ul>
<li><strong>On-Demand Collection</strong>: Data is only fetched when actually needed</li>
<li><strong>Dependency Optimization</strong>: Shared dependencies are resolved once</li>
<li><strong>API Call Reduction</strong>: Up to 50% fewer API calls in complex scenarios:</li>
</ul>
<div class="table-wrapper scrollbar overflow-hidden">
<table class="comfortable">
<thead>
<tr>
<th style="text-align: left;">¬†</th>
<th style="text-align: center;">WorkerBee without DEC Cache</th>
<th style="text-align: center;">WorkerBee with DEC Cache</th>
<th style="text-align: center;">Naive implementation</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">API Calls per cycle <strong>*</strong></td>
<td style="text-align: center;">6</td>
<td style="text-align: center;"><strong>3</strong></td>
<td style="text-align: center;">10</td>
</tr>
<tr>
<td style="text-align: left;">Network Latency</td>
<td style="text-align: center;">500ms</td>
<td style="text-align: center;"><strong>250ms</strong></td>
<td style="text-align: center;">830ms</td>
</tr>
<tr>
<td style="text-align: left;">Throughput</td>
<td style="text-align: center;">‚Äì</td>
<td style="text-align: center;"><strong>+2√ó</strong></td>
<td style="text-align: center;">-0.7x</td>
</tr>
<tr>
<td style="text-align: left;">Node Load</td>
<td style="text-align: center;">High</td>
<td style="text-align: center;"><strong>Low</strong></td>
<td style="text-align: center;">Very High</td>
</tr>
</tbody>
</table>
</div>
<p><strong>*</strong> - A Number of calls calculated based on the scenario of operation filter, 3 accounts filter and operation &amp; account provider</p>
<doc-anchor-target id="bulb-architecture-benefits">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#bulb-architecture-benefits">#</doc-anchor-trigger>
        <span><span class="docs-emoji">&#x1F4A1;</span> Architecture Benefits</span>
    </h2>
</doc-anchor-target>
<doc-anchor-target id="separation-of-concerns">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#separation-of-concerns">#</doc-anchor-trigger>
        <span>Separation of Concerns</span>
    </h3>
</doc-anchor-target>
<p>Each layer has a single responsibility, making the system maintainable and testable.</p>
<doc-anchor-target id="loose-coupling">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#loose-coupling">#</doc-anchor-trigger>
        <span>Loose Coupling</span>
    </h3>
</doc-anchor-target>
<p>Components communicate through well-defined interfaces, allowing easy substitution.</p>
<doc-anchor-target id="high-performance">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#high-performance">#</doc-anchor-trigger>
        <span>High Performance</span>
    </h3>
</doc-anchor-target>
<p>Concurrent execution and intelligent caching provide optimal performance.</p>
<doc-anchor-target id="flexibility">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#flexibility">#</doc-anchor-trigger>
        <span>Flexibility</span>
    </h3>
</doc-anchor-target>
<p>The layered architecture supports multiple data sources and custom extensions.</p>
<doc-anchor-target id="testability">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#testability">#</doc-anchor-trigger>
        <span>Testability</span>
    </h3>
</doc-anchor-target>
<p>Each component can be tested in isolation with dependency injection.</p>
<p>This architecture ensures that WorkerBee can scale from simple use cases to complex enterprise applications while maintaining excellent performance and developer experience.</p>
<doc-anchor-target id="factory-collector-factories">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#factory-collector-factories">#</doc-anchor-trigger>
        <span><span class="docs-emoji">&#x1F3ED;</span> Collector Factories</span>
    </h2>
</doc-anchor-target>
<p>WorkerBee uses different factory patterns for live and past data. The mediator automatically switches between these factories without user interaction, preserving the internal application state. This seamless transition is possible thanks to the factories&#x27; extend functionality - each factory can extend itself with state from other factories.</p>
<doc-anchor-target id="jsonrpcfactory-live-data">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#jsonrpcfactory-live-data">#</doc-anchor-trigger>
        <span>JsonRpcFactory (Live Data)</span>
    </h3>
</doc-anchor-target>
<p>The <code v-pre>JsonRpcFactory</code> provides a comprehensive set of collectors for real-time data:</p>
<ul>
<li><strong>AccountCollector</strong>: Real-time account information</li>
<li><strong>FeedPriceCollector</strong>: Current feed price data</li>
<li><strong>WitnessCollector</strong>: Witness information and schedules</li>
<li><strong>RcAccountCollector</strong>: Resource Credit account data</li>
<li><strong>ManabarCollector</strong>: Live manabar calculations</li>
</ul>
<doc-anchor-target id="historydatafactory-past-data">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#historydatafactory-past-data">#</doc-anchor-trigger>
        <span>HistoryDataFactory (Past Data)</span>
    </h3>
</doc-anchor-target>
<p>The <code v-pre>HistoryDataFactory</code> uses a more limited set optimized for historical analysis:</p>
<ul>
<li><strong>BlockCollector</strong>: Historical block data via <code v-pre>get_block_range</code></li>
<li><strong>DynamicGlobalPropertiesCollector</strong>: Chain state at specific points</li>
<li><strong>ImpactedAccountCollector</strong>: Accounts affected by operations</li>
<li><strong>OperationCollector</strong>: Historical operations from blocks</li>
</ul>
<doc-anchor-target id="factory-switching">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#factory-switching">#</doc-anchor-trigger>
        <span>Factory Switching</span>
    </h3>
</doc-anchor-target>
<p>The automatic factory switching allows you to seamlessly transition from historical analysis to live monitoring:</p>
<div class="codeblock-wrapper"><doc-codeblock line-numbers>
<pre translate="no" class="language-typescript"><code v-pre class="language-typescript">// First, analyze historical data
bot.providePastOperations(startBlock, endBlock)
  .onPosts(&quot;alice&quot;)
  .subscribe({
    next(data) {
      // Process historical data using HistoryDataFactory
    },
    complete() {
      // Historical analysis complete, now switch to live mode
      bot.observe
        .onPosts(&quot;alice&quot;)
        .subscribe({
          next(data) {
            // Process live data using JsonRpcFactory
            // Historical context is preserved!
          }
        });
    }
  });</code></pre>
</doc-codeblock></div>

                                
                                <!-- Required only on API pages -->
                                <doc-toolbar-member-filter-no-results></doc-toolbar-member-filter-no-results>
                            </div>
                            <footer id="retype-content-footer" class="clear-both">
                            
                                <nav id="retype-nextprev" class="print:hidden flex mt-14">
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 h-full flex items-center break-normal font-medium text-body-link border border-base-border hover:border-base-border-hover rounded-l-lg transition-colors duration-150 relative hover:z-5" href="../../interfaces/past-data/">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mr-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19 11H7.41l5.29-5.29a.996.996 0 10-1.41-1.41l-7 7a1 1 0 000 1.42l7 7a1.024 1.024 0 001.42-.01.996.996 0 000-1.41L7.41 13H19c.55 0 1-.45 1-1s-.45-1-1-1z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                            <span>
                                                <span class="block text-xs font-normal text-base-text-muted">Previous</span>
                                                <span class="block mt-1">Past Data</span>
                                            </span>
                                        </a>
                                    </div>
                            
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 -mx-px h-full flex items-center justify-end break-normal font-medium text-body-link border border-base-border hover:border-base-border-hover rounded-r-lg transition-colors duration-150 relative hover:z-5" href="../../interfaces/examples/">
                                            <span>
                                                <span class="block text-xs font-normal text-right text-base-text-muted">Next</span>
                                                <span class="block mt-1">Advanced Examples</span>
                                            </span>
                                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19.92 12.38a1 1 0 00-.22-1.09l-7-7a.996.996 0 10-1.41 1.41l5.3 5.3H5c-.55 0-1 .45-1 1s.45 1 1 1h11.59l-5.29 5.29a.996.996 0 000 1.41c.19.2.44.3.7.3s.51-.1.71-.29l7-7c.09-.09.16-.21.21-.33z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                        </a>
                                    </div>
                                </nav>
                            </footer>
                        </main>
                
                        <div id="retype-page-footer" class="print:border-none border-t border-base-border pt-6 mb-8">
                            <footer class="flex flex-wrap items-center justify-between print:justify-center">
                                <div id="retype-footer-links" class="print:hidden">
                                    <ul class="flex flex-wrap items-center text-sm">
                                        <li>
                                            <a class="block mr-4 py-2 text-sm whitespace-nowrap transition-colors duration-200 ease-linear text-footer-link hover:text-footer-link-hover md:mb-0" href="https://gitlab.syncad.com/hive/workerbee-doc/-/blob/main/LICENSE.md">License</a>
                                        </li>
                                        <li>
                                            <a class="block mr-4 py-2 text-sm whitespace-nowrap transition-colors duration-200 ease-linear text-footer-link hover:text-footer-link-hover md:mb-0" href="https://gitlab.syncad.com/hive/workerbee-doc/-/blob/fae40f50/">Version: fae40f50</a>
                                        </li>
                                    </ul>
                                </div>
                                <div id="retype-copyright" class="print:justify-center py-2 text-footer-text font-footer-link-weight text-sm leading-relaxed"><p>¬© Copyright 2026. All rights reserved.</p></div>
                            </footer>
                        </div>
                    </div>
                
                    <!-- Rendered if sidebar right is enabled -->
                    <!-- Sidebar right skeleton-->
                    <div v-cloak class="fixed top-0 bottom-0 right-0 translate-x-full bg-sidebar-right-bg border-sidebar-right-border lg:sticky lg:border-l lg:shrink-0 lg:pt-6 lg:transform-none sm:w-1/2 lg:w-64 lg:z-0 md:w-104 sidebar-right skeleton">
                        <div class="pl-5">
                            <div class="w-32 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                            <div class="w-48 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                            <div class="w-40 h-3 mb-4 bg-skeleton-bg rounded-full loading"></div>
                        </div>
                    </div>
                
                    <!-- User should be able to hide sidebar right -->
                    <doc-sidebar-right v-cloak></doc-sidebar-right>
                </div>

            </div>
        </div>
    
        <doc-search-mobile></doc-search-mobile>
        <doc-back-to-top></doc-back-to-top>
    </div>


    <div id="retype-overlay-target"></div>

    <script data-cfasync="false">window.__DOCS__ = { "title": "Core Architecture", level: 2, icon: "file", hasPrism: true, hasMermaid: false, hasMath: false, tocDepth: 23 }</script>
</body>
</html>
