<!DOCTYPE html><html class="default" lang="en" data-base="."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@hiveio/workerbee - v1.28.4-rc0-stable.260206143322</title><meta name="description" content="Documentation for @hiveio/workerbee - v1.28.4-rc0-stable.260206143322"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@hiveio/workerbee - v1.28.4-rc0-stable.260206143322</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@hiveio/workerbee - v1.28.4-rc0-stable.260206143322</h1></div><div class="tsd-panel tsd-typography"><a id="ğŸ-workerbee" class="tsd-anchor"></a><h1 class="tsd-anchor-link">ğŸ WorkerBee<a href="#ğŸ-workerbee" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><strong>A powerful and flexible Hive automation library.</strong></p>
<p>WorkerBee, based on <code>wax</code>, provides a simple yet powerful interface to interact with the Hive blockchain, allowing you to build sophisticated bots and automation scripts with ease.</p>
<p><a href="https://badge.fury.io/js/%40hiveio%2Fworkerbee" target="_blank" class="external"><img src="https://badge.fury.io/js/%40hiveio%2Fworkerbee.svg" alt="npm version"></a>
<a href="https://gitlab.syncad.com/hive/workerbee/-/pipelines" target="_blank" class="external"><img src="https://gitlab.syncad.com/hive/workerbee/badges/main/pipeline.svg" alt="CI"></a></p>
<hr>
<a id="âœ¨-features" class="tsd-anchor"></a><h2 class="tsd-anchor-link">âœ¨ Features<a href="#âœ¨-features" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><strong>No More Endless Loops!</strong> ğŸ”„ Just say what you want to listen to - WorkerBee does all the waiting and event handling behind the scenes.</li>
<li><strong>No Blockchain Headaches!</strong> ğŸ§© Forget complicated APIs and coding tricks. Write logic much like you would on regular web apps (think: â€œWhen a new post appears by Alice, send me a ping!â€).</li>
<li><strong>Keep Your Sandbox Clean</strong> ğŸ§¼ WorkerBee shields your code from the messy details of blockchain data, so your app stays flexible and easy-to-maintain.</li>
<li><strong>One Interface, Many Sources</strong> ğŸ—ƒï¸ Switch from live blockchain data to a historical database or new data source (e.g. SQL) - all without changing your appâ€™s logic!</li>
<li><strong>Easy to Expand</strong> ğŸ“ˆ Start simple but add new events, rules, or channels as your needs grow.</li>
<li><strong>Fully typed</strong> â„¹ï¸ Library APIs have well defined types and functional interfaces with special support for IDE IntelliSense</li>
</ul>
<hr>
<a id="ğŸ“–-high-level-documentation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">ğŸ“– High-level Documentation<a href="#ğŸ“–-high-level-documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>You can find the high-level documentation with snippets for this library at <a href="https://hive.pages.syncad.com/workerbee-doc" target="_blank" class="external">https://hive.pages.syncad.com/workerbee-doc</a></p>
<a id="ğŸš€-getting-started" class="tsd-anchor"></a><h2 class="tsd-anchor-link">ğŸš€ Getting Started<a href="#ğŸš€-getting-started" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="installation" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Installation<a href="#installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>This is a <a href="https://nodejs.org/en/" target="_blank" class="external">Node.js</a> module available through the
<a href="https://www.npmjs.com/" target="_blank" class="external">npm registry</a>.</p>
<p>Before installing, <a href="https://nodejs.org/en/download/" target="_blank" class="external">download and install Node.js</a>.
Node.js 20 or higher is required.</p>
<p>Installation is done using the
<a href="https://docs.npmjs.com/getting-started/installing-npm-packages-locally" target="_blank" class="external"><code>npm install</code> command</a>:</p>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@hiveio/workerbee</span>
</code><button type="button">Copy</button></pre>

<p>If you want to use development versions of our packages, set <code>@hiveio</code> scope to use our GitLab registry:</p>
<pre><code class="bash"><span class="hl-0">echo</span><span class="hl-1"> </span><span class="hl-2">@hiveio:registry=https://gitlab.syncad.com/api/v4/groups/136/-/packages/npm/</span><span class="hl-1"> &gt;&gt; </span><span class="hl-2">.npmrc</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@hiveio/workerbee</span>
</code><button type="button">Copy</button></pre>

<a id="basic-usage" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Basic Usage<a href="#basic-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Here's a simple example of how to start listening for new blocks on the Hive blockchain:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-4">WorkerBee</span><span class="hl-1"> </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@hiveio/workerbee&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">bot</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">WorkerBee</span><span class="hl-1">();</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">bot</span><span class="hl-1">.</span><span class="hl-0">start</span><span class="hl-1">();</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;ğŸš€ Bot started! Waiting for new blocks...&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">for</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> { </span><span class="hl-6">id</span><span class="hl-1">, </span><span class="hl-6">number</span><span class="hl-1"> } </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-4">bot</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`ğŸ‰ Got block #</span><span class="hl-5">${</span><span class="hl-4">number</span><span class="hl-5">}</span><span class="hl-2"> with ID: </span><span class="hl-5">${</span><span class="hl-4">id</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="ğŸ“š-examples" class="tsd-anchor"></a><h2 class="tsd-anchor-link">ğŸ“š Examples<a href="#ğŸ“š-examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>WorkerBee offers a rich set of observers to monitor various activities on the Hive blockchain. Here are some common use cases:</p>
<a id="observing-new-blocks" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Observing New Blocks<a href="#observing-new-blocks" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can use an observer to wait for the next block:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-4">WorkerBee</span><span class="hl-1"> </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@hiveio/workerbee&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">bot</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">WorkerBee</span><span class="hl-1">();</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">bot</span><span class="hl-1">.</span><span class="hl-0">start</span><span class="hl-1">();</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`â³ Waiting for new blocks...`</span><span class="hl-1">);</span><br/><br/><span class="hl-4">bot</span><span class="hl-1">.</span><span class="hl-4">observe</span><span class="hl-1">.</span><span class="hl-0">onBlock</span><span class="hl-1">().</span><span class="hl-0">subscribe</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">next</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`ğŸ“¦ Block #</span><span class="hl-5">${</span><span class="hl-4">data</span><span class="hl-7">.</span><span class="hl-4">block</span><span class="hl-7">.</span><span class="hl-4">number</span><span class="hl-5">}</span><span class="hl-2"> detected!`</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="ğŸ‘€-observing-account-activity" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ğŸ‘€ Observing Account Activity<a href="#ğŸ‘€-observing-account-activity" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Monitor a specific account for new operations:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-4">WorkerBee</span><span class="hl-1"> </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@hiveio/workerbee&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">bot</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">WorkerBee</span><span class="hl-1">();</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">bot</span><span class="hl-1">.</span><span class="hl-0">start</span><span class="hl-1">();</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;ğŸ‘‚ Listening for operations from &#39;gtg&#39;...&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">bot</span><span class="hl-1">.</span><span class="hl-4">observe</span><span class="hl-1">.</span><span class="hl-0">onImpactedAccounts</span><span class="hl-1">(</span><span class="hl-2">&quot;gtg&quot;</span><span class="hl-1">).</span><span class="hl-0">subscribe</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">next</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;ğŸ’¥ &#39;gtg&#39; was involved in a new transaction!&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">.</span><span class="hl-4">impactedAccounts</span><span class="hl-1">[</span><span class="hl-2">&quot;gtg&quot;</span><span class="hl-1">]);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="ğŸ’°-monitoring-for-large-transfers-whale-watching" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ğŸ’° Monitoring for Large Transfers (Whale Watching)<a href="#ğŸ’°-monitoring-for-large-transfers-whale-watching" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Get notified when large transfers occur:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-4">WorkerBee</span><span class="hl-1"> </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@hiveio/workerbee&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">bot</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">WorkerBee</span><span class="hl-1">();</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">bot</span><span class="hl-1">.</span><span class="hl-0">start</span><span class="hl-1">();</span><br/><br/><span class="hl-8">// Set a threshold for what you consider a &quot;whale&quot; transfer (e.g., 1000 HIVE)</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`ğŸ‹ Watching for transfers larger than 1000 HIVE...`</span><span class="hl-1">);</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">amount</span><span class="hl-1"> = </span><span class="hl-4">bot</span><span class="hl-1">.</span><span class="hl-4">chain</span><span class="hl-1">!.</span><span class="hl-0">hiveCoins</span><span class="hl-1">(</span><span class="hl-9">1000</span><span class="hl-1">);</span><br/><br/><span class="hl-4">bot</span><span class="hl-1">.</span><span class="hl-4">observe</span><span class="hl-1">.</span><span class="hl-0">onWhaleAlert</span><span class="hl-1">(</span><span class="hl-4">amount</span><span class="hl-1">).</span><span class="hl-0">subscribe</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">next</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">data</span><span class="hl-1">.</span><span class="hl-4">whaleOperations</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">(({ </span><span class="hl-4">operation</span><span class="hl-1"> }) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-4">bot</span><span class="hl-1">.</span><span class="hl-4">chain</span><span class="hl-1">!.</span><span class="hl-0">waxify</span><span class="hl-2">`ğŸš¨ Whale Alert! </span><span class="hl-5">${</span><span class="hl-4">operation</span><span class="hl-7">.</span><span class="hl-4">from</span><span class="hl-5">}</span><span class="hl-2"> sent </span><span class="hl-5">${</span><span class="hl-4">operation</span><span class="hl-7">.</span><span class="hl-4">amount</span><span class="hl-5">}</span><span class="hl-2"> to </span><span class="hl-5">${</span><span class="hl-4">operation</span><span class="hl-7">.</span><span class="hl-4">to</span><span class="hl-5">}</span><span class="hl-2">`</span><br/><span class="hl-1">      );</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="ğŸ“œ-processing-historical-data" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ğŸ“œ Processing Historical Data<a href="#ğŸ“œ-processing-historical-data" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can also process data from a specific range of past blocks. Here's how to find all posts by a specific author in a given block range:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-4">WorkerBee</span><span class="hl-1"> </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@hiveio/workerbee&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">bot</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">WorkerBee</span><span class="hl-1">();</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">bot</span><span class="hl-1">.</span><span class="hl-0">start</span><span class="hl-1">();</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">author</span><span class="hl-1"> = </span><span class="hl-2">&quot;gtg&quot;</span><span class="hl-1">;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">startBlock</span><span class="hl-1"> = </span><span class="hl-9">96549390</span><span class="hl-1">;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">endBlock</span><span class="hl-1"> = </span><span class="hl-9">96549415</span><span class="hl-1">;</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`ğŸ” Searching for posts by @</span><span class="hl-5">${</span><span class="hl-4">author</span><span class="hl-5">}</span><span class="hl-2"> from block </span><span class="hl-5">${</span><span class="hl-4">startBlock</span><span class="hl-5">}</span><span class="hl-2"> to </span><span class="hl-5">${</span><span class="hl-4">endBlock</span><span class="hl-5">}</span><span class="hl-2">...`</span><span class="hl-1">);</span><br/><br/><span class="hl-4">bot</span><span class="hl-1">.</span><span class="hl-0">providePastOperations</span><span class="hl-1">(</span><span class="hl-4">startBlock</span><span class="hl-1">, </span><span class="hl-4">endBlock</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">onPosts</span><span class="hl-1">(</span><span class="hl-4">author</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">subscribe</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">next</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">data</span><span class="hl-1">.</span><span class="hl-4">posts</span><span class="hl-1">[</span><span class="hl-4">author</span><span class="hl-1">]?.</span><span class="hl-0">forEach</span><span class="hl-1">(({ </span><span class="hl-4">operation</span><span class="hl-1"> }) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`âœï¸ Found post: @</span><span class="hl-5">${</span><span class="hl-4">operation</span><span class="hl-7">.</span><span class="hl-4">author</span><span class="hl-5">}</span><span class="hl-2">/</span><span class="hl-5">${</span><span class="hl-4">operation</span><span class="hl-7">.</span><span class="hl-4">permlink</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">error:</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-4">error</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">complete</span><span class="hl-1">() {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;âœ… Search complete.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<div class="tsd-alert tsd-alert-important"><div class="tsd-alert-title"><svg width="16" height="16" viewBox="0 0 16 16"><use href="assets/icons.svg#icon-alertImportant"></use></svg><span>Important</span></div><p>
<code>providePastOperations</code> provides past data to the bot, allowing you to start processing historical operations and directly switch to the live data without losing any context.</p>
</div>
<a id="combining-observers" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Combining Observers<a href="#combining-observers" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can subscribe to multiple events, and the observer will trigger when any of the specified conditions are met. This is useful for monitoring multiple accounts or operations without needing to write complex logic.</p>
<p>When multiple conditions are met at the same time with OR, WorkerBee is smart enough to only trigger the event once, preventing duplicate notifications. Moreover if multiple events occur in the same notification cycle, they will be processed together, ensuring that your logic can account for all relevant changes at once.</p>
<p>WorkerBee by default uses (implicit) OR between filters:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-4">WorkerBee</span><span class="hl-1"> </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@hiveio/workerbee&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">bot</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">WorkerBee</span><span class="hl-1">();</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">bot</span><span class="hl-1">.</span><span class="hl-0">start</span><span class="hl-1">();</span><br/><br/><span class="hl-4">bot</span><span class="hl-1">.</span><span class="hl-4">observe</span><br/><span class="hl-1">  .</span><span class="hl-0">onImpactedAccounts</span><span class="hl-1">(</span><span class="hl-2">&quot;alice&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;bob&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;charlie&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">onPostsWithTags</span><span class="hl-1">(</span><span class="hl-2">&quot;gtg&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;blocktrades&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-0">subscribe</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">next</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-8">// This will trigger if any of the accounts have activity OR if posts are detected with specific author</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">);</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">error:</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-4">error</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<p>We can also add explicit OR between them:</p>
<pre><code class="diff">  import WorkerBee from "@hiveio/workerbee";

  const bot = new WorkerBee();
  await bot.start();

  bot.observe
    .onImpactedAccounts("alice", "bob", "charlie")
+   .or
    .onPostsWithTags("gtg", "blocktrades")
    .subscribe({
      next(data) {
        // This will trigger if any of the accounts have activity OR if posts are detected with specific author
        console.log(data);
      },
      error: console.error
    });
</code><button type="button">Copy</button></pre>

<p>Yyou can also combine multiple observers using the <code>.and</code> operator to create more complex conditions, where you can react to any one of several events occurring. The resulting observer will fire if all of the chained conditions are met.</p>
<p>Here's an example of how to get notified when either a specific account's manabar is full AND a new account is created:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">EManabarType</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@hiveio/wax&quot;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-4">WorkerBee</span><span class="hl-1"> </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@hiveio/workerbee&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">bot</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">WorkerBee</span><span class="hl-1">();</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">bot</span><span class="hl-1">.</span><span class="hl-0">start</span><span class="hl-1">();</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;ğŸ‘€ Watching for &#39;initminer&#39; to have a full RC manabar and for new account...&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-4">bot</span><span class="hl-1">.</span><span class="hl-4">observe</span><br/><span class="hl-1">  .</span><span class="hl-0">onAccountsFullManabar</span><span class="hl-1">(</span><span class="hl-4">EManabarType</span><span class="hl-1">.</span><span class="hl-6">RC</span><span class="hl-1">, </span><span class="hl-2">&quot;initminer&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-4">and</span><br/><span class="hl-1">  .</span><span class="hl-0">onNewAccount</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-0">subscribe</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">next</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;ğŸ”‹ &#39;initminer&#39; now has a full RC manabar!&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">      </span><span class="hl-4">data</span><span class="hl-1">.</span><span class="hl-4">newAccounts</span><span class="hl-1">.</span><span class="hl-0">forEach</span><span class="hl-1">(({ </span><span class="hl-4">accountName</span><span class="hl-1"> }) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`ğŸ‘¤ New account created: @</span><span class="hl-5">${</span><span class="hl-4">accountName</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">      });</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">error:</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-4">error</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<div class="tsd-alert tsd-alert-note"><div class="tsd-alert-title"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><use href="assets/icons.svg#icon-alertNote"></use></svg><span>Note</span></div><p>
AND takes precedence over OR, so you can chain multiple <code>.and</code> calls to create complex conditions</p>
</div>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">EManabarType</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@hiveio/wax&quot;</span><span class="hl-1">;</span><br/><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-4">WorkerBee</span><span class="hl-1"> </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@hiveio/workerbee&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">bot</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">WorkerBee</span><span class="hl-1">();</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">bot</span><span class="hl-1">.</span><span class="hl-0">start</span><span class="hl-1">();</span><br/><br/><span class="hl-4">bot</span><span class="hl-1">.</span><span class="hl-4">observe</span><br/><span class="hl-1">  .</span><span class="hl-0">onAccountsFullManabar</span><span class="hl-1">(</span><span class="hl-4">EManabarType</span><span class="hl-1">.</span><span class="hl-6">RC</span><span class="hl-1">, </span><span class="hl-2">&quot;initminer&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-4">or</span><br/><span class="hl-1">    .</span><span class="hl-0">onAccountsBalanceChange</span><span class="hl-1">(</span><span class="hl-5">false</span><span class="hl-1">, </span><span class="hl-2">&quot;initminer&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-4">and</span><br/><span class="hl-1">  .</span><span class="hl-0">onNewAccount</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-0">subscribe</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">next</span><span class="hl-1">() {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;ğŸ”‹ &#39;initminer&#39; now has a full RC manabar or balance changed!&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;ğŸ‘¤ Also someone created a new account!&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">error:</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-4">error</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<a id="ğŸ“¢-broadcasting-a-transaction" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ğŸ“¢ Broadcasting a Transaction<a href="#ğŸ“¢-broadcasting-a-transaction" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Here's how you can create, sign, and broadcast a transaction:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> </span><span class="hl-4">WorkerBee</span><span class="hl-1"> </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;@hiveio/workerbee&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">bot</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">WorkerBee</span><span class="hl-1">();</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">bot</span><span class="hl-1">.</span><span class="hl-0">start</span><span class="hl-1">();</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;ğŸ“¡ Broadcasting transaction...&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">bot</span><span class="hl-1">.</span><span class="hl-0">broadcast</span><span class="hl-1">(</span><span class="hl-4">transaction</span><span class="hl-1">);</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;âœ… Transaction confirmed by the node!&quot;</span><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

<p>This will send the transaction to the Hive network and wait for confirmation from the node (transaction applied in the next block).</p>
<hr>
<a id="ğŸ“š-predefined-filter-categories" class="tsd-anchor"></a><h2 class="tsd-anchor-link">ğŸ“š Predefined filter categories<a href="#ğŸ“š-predefined-filter-categories" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>WorkerBee provides a set of predefined filter categories to help you easily subscribe to specific types of operations.</p>
<p>You can check the full list of available categories in the <a href="https://gitlab.syncad.com/hive/workerbee/-/blob/main/docs/predefined_filter_categories.md" target="_blank" class="external">docs/predefined_filter_categories.md</a>.</p>
<a id="ğŸ“–-api-reference" class="tsd-anchor"></a><h2 class="tsd-anchor-link">ğŸ“– API Reference<a href="#ğŸ“–-api-reference" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>For a detailed API definition, please see our <a href="https://gitlab.syncad.com/hive/workerbee/-/wikis/home" target="_blank" class="external">Wiki</a>.</p>
<a id="ğŸ› ï¸-development-and-testing" class="tsd-anchor"></a><h2 class="tsd-anchor-link">ğŸ› ï¸ Development and Testing<a href="#ğŸ› ï¸-development-and-testing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="environment-setup" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Environment Setup<a href="#environment-setup" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Clone the repository and install the dependencies:</p>
<pre><code class="bash"><span class="hl-0">git</span><span class="hl-1"> </span><span class="hl-2">clone</span><span class="hl-1"> </span><span class="hl-2">https://gitlab.syncad.com/hive/workerbee.git</span><br/><span class="hl-0">cd</span><span class="hl-1"> </span><span class="hl-2">workerbee</span><br/><br/><span class="hl-0">corepack</span><span class="hl-1"> </span><span class="hl-2">enable</span><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">install</span>
</code><button type="button">Copy</button></pre>

<a id="build" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Build<a href="#build" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Compile the TypeScript source code:</p>
<pre><code class="bash"><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">build</span>
</code><button type="button">Copy</button></pre>

<a id="run-tests" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Run Tests<a href="#run-tests" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Execute the test suite:</p>
<pre><code class="bash"><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-2">test</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="ğŸ“„-license" class="tsd-anchor"></a><h2 class="tsd-anchor-link">ğŸ“„ License<a href="#ğŸ“„-license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>This project is licensed under the MIT License. See the <a href="https://gitlab.syncad.com/hive/workerbee/-/blob/main/LICENSE.md" target="_blank" class="external">LICENSE.md</a> file for details.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#ğŸ-workerbee"><span>ğŸ <wbr/>Worker<wbr/>Bee</span></a><ul><li><a href="#âœ¨-features"><span>âœ¨ <wbr/>Features</span></a></li><li><a href="#ğŸ“–-high-level-documentation"><span>ğŸ“– <wbr/>High-<wbr/>level <wbr/>Documentation</span></a></li><li><a href="#ğŸš€-getting-started"><span>ğŸš€ <wbr/>Getting <wbr/>Started</span></a></li><li><ul><li><a href="#installation"><span>Installation</span></a></li><li><a href="#basic-usage"><span>Basic <wbr/>Usage</span></a></li></ul></li><li><a href="#ğŸ“š-examples"><span>ğŸ“š <wbr/>Examples</span></a></li><li><ul><li><a href="#observing-new-blocks"><span>Observing <wbr/>New <wbr/>Blocks</span></a></li><li><a href="#ğŸ‘€-observing-account-activity"><span>ğŸ‘€ <wbr/>Observing <wbr/>Account <wbr/>Activity</span></a></li><li><a href="#ğŸ’°-monitoring-for-large-transfers-whale-watching"><span>ğŸ’° <wbr/>Monitoring for <wbr/>Large <wbr/>Transfers (<wbr/>Whale <wbr/>Watching)</span></a></li><li><a href="#ğŸ“œ-processing-historical-data"><span>ğŸ“œ <wbr/>Processing <wbr/>Historical <wbr/>Data</span></a></li><li><a href="#combining-observers"><span>Combining <wbr/>Observers</span></a></li><li><a href="#ğŸ“¢-broadcasting-a-transaction"><span>ğŸ“¢ <wbr/>Broadcasting a <wbr/>Transaction</span></a></li></ul></li><li><a href="#ğŸ“š-predefined-filter-categories"><span>ğŸ“š <wbr/>Predefined filter categories</span></a></li><li><a href="#ğŸ“–-api-reference"><span>ğŸ“– API <wbr/>Reference</span></a></li><li><a href="#ğŸ› ï¸-development-and-testing"><span>ğŸ› ï¸ <wbr/>Development and <wbr/>Testing</span></a></li><li><ul><li><a href="#environment-setup"><span>Environment <wbr/>Setup</span></a></li><li><a href="#build"><span>Build</span></a></li><li><a href="#run-tests"><span>Run <wbr/>Tests</span></a></li></ul></li><li><a href="#ğŸ“„-license"><span>ğŸ“„ <wbr/>License</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current">@hiveio/workerbee - v1.28.4-rc0-stable.260206143322</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
